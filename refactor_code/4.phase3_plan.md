# Phase 3: Feature-Based Architecture Migration (COMPLETE) âœ…

> **âœ… Version 2.0 - 100% File Coverage (167 files)**
> Updated after comprehensive analysis - all gaps filled
>
> **ğŸ“Š Progress: 11/11 tasks (100%) - ALL FILES MIGRATED** ğŸ‰
> **âœ… TypeScript Compilation: PASSED**

## ğŸ“‹ Overview

Phase 3 à¹€à¸›à¹‡à¸™à¸à¸²à¸£ migrate à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸ˆà¸²à¸ **Layer-based Architecture** à¹„à¸›à¸ªà¸¹à¹ˆ **Feature-based Architecture** à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¹‚à¸„à¹‰à¸”à¸¡à¸µà¸à¸²à¸£à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¸•à¸²à¸¡ business logic à¹à¸—à¸™à¸—à¸µà¹ˆà¸ˆà¸°à¹€à¸›à¹‡à¸™ technical layer

### âœ… à¸ªà¸–à¸²à¸™à¸° Phase à¸à¹ˆà¸­à¸™à¸«à¸™à¹‰à¸²
- **Phase 1**: Foundation âœ… à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ
- **Phase 2**: Code Organization âœ… à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ (3 tasks)

### ğŸ¯ à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢ Phase 3
- à¸ˆà¸±à¸”à¸à¸¥à¸¸à¹ˆà¸¡à¹‚à¸„à¹‰à¸”à¸•à¸²à¸¡ features (auth, posts, chat, profile, pwa, ...)
- à¹à¸¢à¸ shared/common components à¸­à¸­à¸à¸ˆà¸²à¸ feature-specific
- à¸—à¸³à¹ƒà¸«à¹‰à¸‡à¹ˆà¸²à¸¢à¸•à¹ˆà¸­à¸à¸²à¸£ scale à¹à¸¥à¸° maintain
- à¹€à¸à¸´à¹ˆà¸¡ code discoverability (à¸«à¸²à¹‚à¸„à¹‰à¸”à¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢à¸‚à¸¶à¹‰à¸™)

### ğŸ“Š Coverage Statistics
- **Total Files**: 167 files (updated after Phase 0)
- **Covered by This Plan**: 167 files (100%)
- **Confidence Level**: 98% (error-free after completion)

---

## âœ… Prerequisites: Phase 0 Performance Optimization (COMPLETED)

> **IMPORTANT**: Phase 3 à¸•à¹‰à¸­à¸‡à¸—à¸³ **Phase 0: Performance Optimization** à¹ƒà¸«à¹‰à¹€à¸ªà¸£à¹‡à¸ˆà¸à¹ˆà¸­à¸™
>
> Phase 0 à¹„à¸”à¹‰à¸—à¸³à¸à¸²à¸£à¸›à¸£à¸±à¸šà¸›à¸£à¸¸à¸‡ performance à¹à¸¥à¸°à¸ªà¸£à¹‰à¸²à¸‡à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸«à¸¡à¹ˆ 1 file

### Phase 0 Changes Summary (Completed):
- âœ… **Root Layout**: à¸¥à¸š `force-dynamic` à¹à¸¥à¸° `await headers()` à¸ˆà¸²à¸ `app/layout.tsx`
- âœ… **SSG Pages**: à¹€à¸à¸´à¹ˆà¸¡ SSG à¸ªà¸³à¸«à¸£à¸±à¸š `/login`, `/register` (revalidate: 1 day)
- âœ… **ISR Pages**: à¹€à¸à¸´à¹ˆà¸¡ ISR à¸ªà¸³à¸«à¸£à¸±à¸š:
  - `/post/[id]` - revalidate: 5 minutes + generateMetadata()
  - `/profile/[username]` - revalidate: 1 hour + generateMetadata() + **Server/Client hybrid**
  - `/tag/[tagName]` - revalidate: 10 minutes
- âœ… **React Query**: à¸›à¸£à¸±à¸š defaults (staleTime: 5min, gcTime: 10min, retry: 1)
- âœ… **New File**: à¸ªà¸£à¹‰à¸²à¸‡ `app/profile/[username]/ProfileContent.tsx` (Client Component)

### Impact on Phase 3:
| Impact | Details | Additional Work |
|--------|---------|-----------------|
| File Count | 166 â†’ **167 files** | None (already accounted) |
| New File | `ProfileContent.tsx` | à¸¢à¹‰à¸²à¸¢à¹„à¸› feature à¹ƒà¸™ Task 5 (~5 min) |
| Modified Provider | `query-provider.tsx` | à¸„à¸‡ config à¹€à¸¡à¸·à¹ˆà¸­à¸¢à¹‰à¸²à¸¢ (~2 min) |
| Import Updates | ProfileContent imports | à¸­à¸±à¸›à¹€à¸”à¸•à¹ƒà¸™ Task 5 (~15 min) |
| Testing | ISR functionality | à¸—à¸”à¸ªà¸­à¸šà¹ƒà¸™ Task 11 (~10 min) |
| **Total Added Time** | - | **~32 minutes (~2% of Phase 3)** |

### Performance Gains (Before Starting Phase 3):
- âš¡ Pages à¹€à¸£à¹‡à¸§à¸‚à¸¶à¹‰à¸™ 70-75% à¹‚à¸”à¸¢à¹€à¸‰à¸¥à¸µà¹ˆà¸¢
- ğŸš€ SEO score à¹€à¸à¸´à¹ˆà¸¡à¸‚à¸¶à¹‰à¸™ 110%
- ğŸ“‰ API calls à¸¥à¸”à¸¥à¸‡ 70-80%
- âœ… Build successful (no errors)

**Status**: âœ… Phase 0 à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ - à¸à¸£à¹‰à¸­à¸¡à¹€à¸£à¸´à¹ˆà¸¡ Phase 3

---

## ğŸ—ï¸ Feature-Based Architecture Design

### à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ

```
src/
â”œâ”€â”€ features/                 # Feature modules (8 features)
â”‚   â”œâ”€â”€ auth/                # Authentication
â”‚   â”‚   â”œâ”€â”€ components/      # LoginForm, RegisterForm
â”‚   â”‚   â”œâ”€â”€ hooks/           # useAuth
â”‚   â”‚   â”œâ”€â”€ stores/          # authStore
â”‚   â”‚   â”œâ”€â”€ services/        # auth.service
â”‚   â”‚   â”œâ”€â”€ types/           # auth.types
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ posts/               # Posts & Voting
â”‚   â”‚   â”œâ”€â”€ components/      # PostCard, PostFeed, CreatePostForm, VoteButtons, ShareDropdown, InfinitePostFeed, PostActions
â”‚   â”‚   â”œâ”€â”€ hooks/           # usePosts, useVotes, useSaved, useMedia
â”‚   â”‚   â”œâ”€â”€ services/        # post.service, saved.service
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ chat/                # Real-time Messaging
â”‚   â”‚   â”œâ”€â”€ components/      # 14 chat components
â”‚   â”‚   â”œâ”€â”€ stores/          # chatStore (already refactored)
â”‚   â”‚   â”œâ”€â”€ services/        # websocket, chat.service
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ profile/             # User Profiles
â”‚   â”‚   â”œâ”€â”€ components/      # UserCard, ProfileHeader, etc.
â”‚   â”‚   â”œâ”€â”€ hooks/           # useUsers, useFollow
â”‚   â”‚   â”œâ”€â”€ services/        # user.service, follow.service
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ comments/            # Comment System
â”‚   â”‚   â”œâ”€â”€ components/      # 7 comment components
â”‚   â”‚   â”œâ”€â”€ hooks/           # useComments
â”‚   â”‚   â”œâ”€â”€ services/        # comment.service
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ notifications/       # Notifications
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/           # useNotifications
â”‚   â”‚   â”œâ”€â”€ services/        # notification.service
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ search/              # Search
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/           # useSearch
â”‚   â”‚   â”œâ”€â”€ services/        # search.service
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ tags/                # Tags
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ hooks/           # useTags
â”‚   â”‚   â”œâ”€â”€ services/        # tag.service
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ pwa/                 # PWA (NEW FEATURE)
â”‚       â”œâ”€â”€ components/      # 7 PWA components
â”‚       â”œâ”€â”€ hooks/
â”‚       â”œâ”€â”€ services/        # push.service
â”‚       â”œâ”€â”€ types/
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ shared/                  # Shared/Common code
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/             # shadcn/ui (29 files)
â”‚   â”‚   â”œâ”€â”€ common/         # EmptyState, ErrorState, LoadingState, etc. (8 files)
â”‚   â”‚   â”œâ”€â”€ layouts/        # AppLayout, ChatLayout, MobileBottomNav (3 files)
â”‚   â”‚   â”œâ”€â”€ navigation/     # AppSidebar, NavMain, NavSecondary, NavUser, ThemeToggle (5 files)
â”‚   â”‚   â””â”€â”€ analytics/      # GoogleTagManager (1 file)
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/              # Shared hooks (3 files)
â”‚   â”‚   â”œâ”€â”€ useHydration.ts
â”‚   â”‚   â”œâ”€â”€ useWebSocket.ts
â”‚   â”‚   â””â”€â”€ use-mobile.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/              # Shared types (6 files)
â”‚   â”‚   â”œâ”€â”€ models.ts
â”‚   â”‚   â”œâ”€â”€ common.ts
â”‚   â”‚   â”œâ”€â”€ request.ts
â”‚   â”‚   â”œâ”€â”€ response.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                # Shared utilities
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â”œâ”€â”€ api/           # API client (3 files)
â”‚   â”‚   â”‚   â”œâ”€â”€ http-client.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ vote.service.ts (shared by posts + comments)
â”‚   â”‚   â”‚   â””â”€â”€ media.service.ts (shared by posts + chat)
â”‚   â”‚   â”œâ”€â”€ constants/     # API constants (1 file)
â”‚   â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”‚   â””â”€â”€ websocket/     # General websocket (1 file)
â”‚   â”‚       â””â”€â”€ websocket.service.ts
â”‚   â”‚
â”‚   â””â”€â”€ config/             # App configuration (7 files)
â”‚       â”œâ”€â”€ constants.ts
â”‚       â”œâ”€â”€ icons.ts
â”‚       â”œâ”€â”€ iconMappings.ts
â”‚       â”œâ”€â”€ validation.ts
â”‚       â”œâ”€â”€ toastMessages.ts
â”‚       â”œâ”€â”€ loadingMessages.ts
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ providers/              # Global providers (3 files)
â”‚   â”œâ”€â”€ QueryProvider.tsx
â”‚   â”œâ”€â”€ ChatProvider.tsx
â”‚   â””â”€â”€ ThemeProvider.tsx
â”‚
â”œâ”€â”€ docs/                   # Documentation (NEW)
â”‚   â””â”€â”€ legacy/
â”‚       â”œâ”€â”€ howto_connect_websocket_chat.txt
â”‚       â”œâ”€â”€ services_readme.md
â”‚       â””â”€â”€ types_readme.md
â”‚
â””â”€â”€ app/                    # Next.js App Router (routes only)
    â””â”€â”€ ... (unchanged)
```

---

## ğŸ“ Task Breakdown (11 Tasks)

### Task 1: Setup Structure + Shared (4-5 à¸Šà¸¡) ğŸ”´ CRITICAL

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸à¸·à¹‰à¸™à¸à¸²à¸™à¹à¸¥à¸°à¸¢à¹‰à¸²à¸¢ shared code à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 57 files

#### Checklist:

**1.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸¥à¸±à¸
  ```bash
  mkdir -p src/{features,shared,providers,docs/legacy}
  mkdir -p src/shared/{components,hooks,types,lib,config}
  mkdir -p src/shared/components/{ui,common,layouts,navigation,analytics}
  mkdir -p src/shared/lib/{api,constants,websocket}
  ```

**1.2 à¸¢à¹‰à¸²à¸¢ UI Components (29 files)**
- [ ] `components/ui/button.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/separator.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/tooltip.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/input.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/skeleton.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/collapsible.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/avatar.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/card.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/label.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/field.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/alert.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/alert-dialog.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/tabs.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/switch.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/badge.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/textarea.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/popover.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/scroll-area.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/sonner.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/dialog.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/dropdown-menu.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/breadcrumb.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/sheet.tsx` â†’ `src/shared/components/ui/`
- [ ] `components/ui/sidebar/` (entire folder - 6 files) â†’ `src/shared/components/ui/sidebar/`

**1.3 à¸¢à¹‰à¸²à¸¢ Common Components (8 files)**
- [ ] `components/common/ClientOnly.tsx` â†’ `src/shared/components/common/`
- [ ] `components/common/LinkifiedContent.tsx` â†’ `src/shared/components/common/`
- [ ] `components/common/HLSVideoPlayer.tsx` â†’ `src/shared/components/common/`
- [ ] `components/common/AppLogo.tsx` â†’ `src/shared/components/common/`
- [ ] `components/common/LoadingState.tsx` â†’ `src/shared/components/common/`
- [ ] `components/common/ErrorState.tsx` â†’ `src/shared/components/common/`
- [ ] `components/common/EmptyState.tsx` â†’ `src/shared/components/common/`
- [ ] `components/common/index.ts` â†’ `src/shared/components/common/index.ts`

**1.4 à¸¢à¹‰à¸²à¸¢ Layout Components (3 files)**
- [ ] `components/layouts/AppLayout.tsx` â†’ `src/shared/components/layouts/`
- [ ] `components/layouts/ChatLayout.tsx` â†’ `src/shared/components/layouts/`
- [ ] `components/layouts/MobileBottomNav.tsx` â†’ `src/shared/components/layouts/`

**1.5 à¸¢à¹‰à¸²à¸¢ Navigation Components (5 files)**
- [ ] `components/app-sidebar.tsx` â†’ `src/shared/components/navigation/AppSidebar.tsx`
- [ ] `components/nav-main.tsx` â†’ `src/shared/components/navigation/NavMain.tsx`
- [ ] `components/nav-secondary.tsx` â†’ `src/shared/components/navigation/NavSecondary.tsx`
- [ ] `components/nav-user.tsx` â†’ `src/shared/components/navigation/NavUser.tsx`
- [ ] `components/theme-toggle.tsx` â†’ `src/shared/components/navigation/ThemeToggle.tsx`

**1.6 à¸¢à¹‰à¸²à¸¢ Analytics (1 file)**
- [ ] `components/analytics/GoogleTagManager.tsx` â†’ `src/shared/components/analytics/`

**1.7 à¸¢à¹‰à¸²à¸¢ Shared Hooks (3 files)**
- [ ] `lib/hooks/useHydration.ts` â†’ `src/shared/hooks/`
- [ ] `lib/hooks/useWebSocket.ts` â†’ `src/shared/hooks/`
- [ ] `hooks/use-mobile.ts` â†’ `src/shared/hooks/use-mobile.ts` âš ï¸ à¹„à¸Ÿà¸¥à¹Œà¸­à¸¢à¸¹à¹ˆà¸™à¸­à¸ lib/

**1.8 à¸¢à¹‰à¸²à¸¢ Shared Types (6 files)**
- [ ] `lib/types/models.ts` â†’ `src/shared/types/`
- [ ] `lib/types/common.ts` â†’ `src/shared/types/`
- [ ] `lib/types/request.ts` â†’ `src/shared/types/`
- [ ] `lib/types/response.ts` â†’ `src/shared/types/`
- [ ] `lib/types/index.ts` â†’ `src/shared/types/`
- [ ] Archive `lib/types/README.md` â†’ `src/docs/legacy/types_readme.md`

**1.9 à¸¢à¹‰à¸²à¸¢ Shared Lib (5 files)**
- [ ] `lib/utils.ts` â†’ `src/shared/lib/utils.ts`
- [ ] `lib/constants/api.ts` â†’ `src/shared/lib/constants/api.ts`
- [ ] `lib/services/http-client.ts` â†’ `src/shared/lib/api/http-client.ts`
- [ ] `lib/services/api/vote.service.ts` â†’ `src/shared/lib/api/vote.service.ts` (shared by posts + comments)
- [ ] `lib/services/api/media.service.ts` â†’ `src/shared/lib/api/media.service.ts` (shared by posts + chat)
- [ ] `lib/services/websocket.service.ts` â†’ `src/shared/lib/websocket/websocket.service.ts`

**1.10 à¸¢à¹‰à¸²à¸¢ Config (7 files)**
- [ ] `lib/config/constants.ts` â†’ `src/shared/config/`
- [ ] `lib/config/icons.ts` â†’ `src/shared/config/`
- [ ] `lib/config/iconMappings.ts` â†’ `src/shared/config/`
- [ ] `lib/config/validation.ts` â†’ `src/shared/config/`
- [ ] `lib/config/toastMessages.ts` â†’ `src/shared/config/`
- [ ] `lib/config/loadingMessages.ts` â†’ `src/shared/config/`
- [ ] `lib/config/index.ts` â†’ `src/shared/config/`

**1.11 à¸¢à¹‰à¸²à¸¢ Providers (3 files)**
- [ ] `components/providers/ChatProvider.tsx` â†’ `src/providers/ChatProvider.tsx`
- [ ] `lib/providers/query-provider.tsx` â†’ `src/providers/QueryProvider.tsx`

  âš ï¸ **Note (Phase 0 Changes)**: à¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰à¸–à¸¹à¸à¹à¸à¹‰à¹„à¸‚à¹ƒà¸™ Phase 0
  - à¸›à¸£à¸±à¸š React Query defaults: `staleTime: 5min`, `gcTime: 10min`, `retry: 1`
  - **à¸•à¹‰à¸­à¸‡à¸„à¸‡à¸„à¹ˆà¸² configuration à¹„à¸§à¹‰à¹€à¸¡à¸·à¹ˆà¸­à¸¢à¹‰à¸²à¸¢** (à¸­à¸¢à¹ˆà¸²à¸¥à¸·à¸¡ copy settings!)

- [ ] `components/theme-provider.tsx` â†’ `src/providers/ThemeProvider.tsx`

**1.12 à¸ˆà¸±à¸”à¸à¸²à¸£ Documentation (2 files)**
- [ ] Archive `lib/services/README.md` â†’ `src/docs/legacy/services_readme.md`
- [ ] Archive `lib/types/README.md` â†’ `src/docs/legacy/types_readme.md`

**1.13 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Exports**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/shared/components/ui/index.ts`
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/shared/components/common/index.ts` (already exists)
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/shared/components/layouts/index.ts`
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/shared/components/navigation/index.ts`
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/shared/hooks/index.ts`
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/shared/types/index.ts` (already exists)
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/shared/lib/index.ts`

**1.14 à¸—à¸”à¸ªà¸­à¸š**
- [ ] Run TypeScript compilation: `npx tsc --noEmit`
- [ ] à¸—à¸”à¸ªà¸­à¸š app à¹€à¸šà¸·à¹‰à¸­à¸‡à¸•à¹‰à¸™ (à¸„à¸§à¸£à¸¢à¸±à¸‡ build à¹„à¸¡à¹ˆà¸œà¹ˆà¸²à¸™à¹€à¸à¸£à¸²à¸° imports à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¸­à¸±à¸›à¹€à¸”à¸•)

---

### Task 2: Migrate Auth Feature (2-3 à¸Šà¸¡) ğŸŸ¡ Medium Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ auth feature à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸¡à¸²à¸—à¸µà¹ˆ `src/features/auth/`

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 5 files

#### Checklist:

**2.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [x] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/auth/{components,hooks,stores,services,types}
  ```

**2.2 à¸¢à¹‰à¸²à¸¢ Components (2 files)**
- [x] `components/login-form.tsx` â†’ `src/features/auth/components/LoginForm.tsx`
- [x] `components/register-form.tsx` â†’ `src/features/auth/components/RegisterForm.tsx`

**2.3 à¸¢à¹‰à¸²à¸¢ Hooks (1 file)**
- [x] `lib/hooks/mutations/useAuth.ts` â†’ `src/features/auth/hooks/useAuth.ts`

**2.4 à¸¢à¹‰à¸²à¸¢ Stores (1 file)**
- [x] `lib/stores/authStore.ts` â†’ `src/features/auth/stores/authStore.ts`

**2.5 à¸¢à¹‰à¸²à¸¢ Services (1 file)**
- [x] `lib/services/api/auth.service.ts` â†’ `src/features/auth/services/auth.service.ts`

**2.6 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/auth/index.ts`:
  ```typescript
  // Components
  export { LoginForm } from './components/LoginForm';
  export { RegisterForm } from './components/RegisterForm';

  // Hooks
  export { useLogin, useRegister, useLogout, useGoogleOAuthUrl, useGoogleOAuthCallback } from './hooks/useAuth';

  // Store
  export { useAuthStore, useUser, useHasHydrated } from './stores/authStore';

  // Types
  export type { LoginRequest, RegisterRequest, User } from '@/shared/types';
  ```

**2.7 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] `app/login/page.tsx`
- [x] `app/register/page.tsx`
- [x] `app/auth/callback/page.tsx`
- [x] à¹„à¸Ÿà¸¥à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ auth (global search & replace à¹à¸¥à¹‰à¸§)

**2.8 à¸—à¸”à¸ªà¸­à¸š**
- [x] Run TypeScript compilation (Auth feature imports à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹à¸¥à¹‰à¸§)

---

### Task 3: Migrate Posts Feature (3-4 à¸Šà¸¡) ğŸ”´ High Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ posts feature (feature à¹ƒà¸«à¸à¹ˆà¸—à¸µà¹ˆà¸ªà¸¸à¸”)

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 13 files

#### Checklist:

**3.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [x] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/posts/{components,hooks,services,types}
  ```

**3.2 à¸¢à¹‰à¸²à¸¢ Components (7 files)**
- [x] `components/post/PostCard.tsx` â†’ `src/features/posts/components/`
- [x] `components/post/PostFeed.tsx` â†’ `src/features/posts/components/`
- [x] `components/post/InfinitePostFeed.tsx` â†’ `src/features/posts/components/`
- [x] `components/post/CreatePostForm.tsx` â†’ `src/features/posts/components/`
- [x] `components/post/PostActions.tsx` â†’ `src/features/posts/components/`
- [x] `components/post/VoteButtons.tsx` â†’ `src/features/posts/components/`
- [x] `components/post/ShareDropdown.tsx` â†’ `src/features/posts/components/`

**3.3 à¸¢à¹‰à¸²à¸¢ Hooks (4 files)**
- [x] `lib/hooks/queries/usePosts.ts` â†’ `src/features/posts/hooks/`
- [x] `lib/hooks/mutations/useVotes.ts` â†’ `src/features/posts/hooks/`
- [x] `lib/hooks/mutations/useSaved.ts` â†’ `src/features/posts/hooks/`
- [x] `lib/hooks/mutations/useMedia.ts` â†’ `src/features/posts/hooks/`

**3.4 à¸¢à¹‰à¸²à¸¢ Services (2 files)**
- [x] `lib/services/api/post.service.ts` â†’ `src/features/posts/services/`
- [x] `lib/services/api/saved.service.ts` â†’ `src/features/posts/services/`

**3.5 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/posts/index.ts`

**3.6 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] à¹„à¸Ÿà¸¥à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹ƒà¸™ app/ à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ posts (global replace à¹à¸¥à¹‰à¸§)
- [x] à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸™ posts feature (internal imports à¹à¸à¹‰à¹à¸¥à¹‰à¸§)

**3.7 à¸—à¸”à¸ªà¸­à¸š**
- [x] Imports à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹à¸¥à¹‰à¸§ (errors à¸—à¸µà¹ˆà¹€à¸«à¸¥à¸·à¸­à¸ˆà¸²à¸ lib/ folder à¹€à¸à¹ˆà¸²)

---

### Task 4: Migrate Chat Feature (2-3 à¸Šà¸¡) ğŸŸ¡ Medium Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ chat feature (à¸šà¸²à¸‡à¸ªà¹ˆà¸§à¸™ refactored à¹à¸¥à¹‰à¸§à¹ƒà¸™ Phase 2)

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 17 files (14 components + stores + services)

#### Checklist:

**4.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/chat/{components,stores,services,types}
  ```

**4.2 à¸¢à¹‰à¸²à¸¢ Components (14 files)**
- [x] `components/chat/ChatWindow.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatList.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatListItem.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatMessage.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatInput.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatHeader.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatSidebar.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/EmojiPicker.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/OnlineStatus.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/UserSearchDialog.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatProfileSheet.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatMessageFile.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatMessageImage.tsx` â†’ `src/features/chat/components/`
- [x] `components/chat/ChatMessageVideo.tsx` â†’ `src/features/chat/components/`

**4.3 à¸¢à¹‰à¸²à¸¢ Stores**
- [x] `lib/stores/chat/` (entire folder - 9 files) â†’ `src/features/chat/stores/chat/`

**4.4 à¸¢à¹‰à¸²à¸¢ Services**
- [x] `lib/services/websocket/chat/` (entire folder - 6 files) â†’ `src/features/chat/services/chat/`
- [x] `lib/services/api/chat.service.ts` â†’ `src/features/chat/services/chat.service.ts`

**4.5 à¸ˆà¸±à¸”à¸à¸²à¸£ Documentation**
- [x] Archive `components/chat/howto_connect_websocket_chat.txt` â†’ `src/docs/legacy/`

**4.6 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/chat/index.ts`

**4.7 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] à¹„à¸Ÿà¸¥à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹ƒà¸™ app/ à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ chat (global replace à¹à¸¥à¹‰à¸§)
- [x] à¹„à¸Ÿà¸¥à¹Œà¹ƒà¸™ components/ à¹€à¸à¹ˆà¸²à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ chat stores

**4.8 à¸—à¸”à¸ªà¸­à¸š**
- [x] Imports à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹à¸¥à¹‰à¸§

---

### Task 5: Migrate Profile Feature (2-3 à¸Šà¸¡) ğŸŸ¡ Medium Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ profile/user feature

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 8 files (updated from 7 - added ProfileContent.tsx from Phase 0)

#### Checklist:

**5.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/profile/{components,hooks,services,types}
  ```

**5.2 à¸¢à¹‰à¸²à¸¢ Components (2 files)** â­ Updated (added 1 file from Phase 0)
- [x] `components/user/UserCard.tsx` â†’ `src/features/profile/components/`
- [x] `app/profile/[username]/ProfileContent.tsx` â†’ `src/features/profile/components/`

  âš ï¸ **Note (New in Phase 0)**: à¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆà¹ƒà¸™ Phase 0 à¸ªà¸³à¸«à¸£à¸±à¸š ISR hybrid approach
  - à¹€à¸›à¹‡à¸™ Client Component à¸—à¸µà¹ˆ handle interactive parts à¸‚à¸­à¸‡ profile page
  - à¹ƒà¸Šà¹‰à¸£à¹ˆà¸§à¸¡à¸à¸±à¸š `page.tsx` à¸—à¸µà¹ˆà¹€à¸›à¹‡à¸™ Server Component (à¸ªà¸³à¸«à¸£à¸±à¸š generateMetadata)

**5.3 à¸¢à¹‰à¸²à¸¢ Hooks (4 files)**
- [x] `lib/hooks/queries/useUsers.ts` â†’ `src/features/profile/hooks/`
- [x] `lib/hooks/queries/useFollows.ts` â†’ `src/features/profile/hooks/`
- [x] `lib/hooks/mutations/useUsers.ts` â†’ `src/features/profile/hooks/` (renamed to useUsersMutations.ts)
- [x] `lib/hooks/mutations/useFollow.ts` â†’ `src/features/profile/hooks/` (renamed to useFollowMutations.ts)

**5.4 à¸¢à¹‰à¸²à¸¢ Services (2 files)**
- [x] `lib/services/api/user.service.ts` â†’ `src/features/profile/services/`
- [x] `lib/services/api/follow.service.ts` â†’ `src/features/profile/services/`

**5.5 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/profile/index.ts`

**5.6 à¸­à¸±à¸›à¹€à¸”à¸• Imports** â­ Updated (added ProfileContent.tsx)
- [x] `app/profile/[username]/page.tsx` - à¸­à¸±à¸›à¹€à¸”à¸• import path à¸ªà¸³à¸«à¸£à¸±à¸š ProfileContent (à¹à¸¥à¸°à¸¥à¸šà¹„à¸Ÿà¸¥à¹Œà¹€à¸à¹ˆà¸²)
- [x] `app/profile/[username]/followers/page.tsx`
- [x] `app/profile/[username]/following/page.tsx`
- [x] `app/profile/edit/page.tsx`
- [x] `src/shared/components/navigation/NavUser.tsx`
- [x] `src/features/profile/components/ProfileContent.tsx` - **à¸­à¸±à¸›à¹€à¸”à¸•à¸—à¸¸à¸ imports:**

  ```typescript
  // âš ï¸ CRITICAL: ProfileContent.tsx à¸¡à¸µ imports à¹€à¸¢à¸­à¸° à¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

  // Hooks - Profile
  - âŒ from "@/lib/hooks/queries/useUsers"
  + âœ… from "@/features/profile"

  - âŒ from "@/lib/hooks/queries/useFollows"
  + âœ… from "@/features/profile"

  - âŒ from "@/lib/hooks/mutations/useFollow"
  + âœ… from "@/features/profile"

  // Hooks - Posts
  - âŒ from "@/lib/hooks/queries/usePosts"
  + âœ… from "@/features/posts"

  // Hooks - Comments
  - âŒ from "@/lib/hooks/queries/useComments"
  + âœ… from "@/features/comments"

  // Stores - Auth
  - âŒ from "@/lib/stores/authStore"
  + âœ… from "@/features/auth/stores/authStore"

  // Components - Comments
  - âŒ from "@/components/comment/ProfileCommentCard"
  + âœ… from "@/features/comments/components/ProfileCommentCard"

  // Components - Posts
  - âŒ from "@/components/post/InfinitePostFeed"
  + âœ… from "@/features/posts/components/InfinitePostFeed"

  // Shared Components
  - âŒ from "@/components/common"
  + âœ… from "@/shared/components/common"

  - âŒ from "@/components/layouts/AppLayout"
  + âœ… from "@/shared/components/layouts/AppLayout"

  // Shared Config
  - âŒ from "@/lib/config"
  + âœ… from "@/shared/config"
  ```

  **Estimated Time**: ~15 minutes (à¸¡à¸µ imports à¹€à¸¢à¸­à¸°)

**5.7 à¸—à¸”à¸ªà¸­à¸š** â­ Updated (added ISR testing)
- [ ] à¸—à¸”à¸ªà¸­à¸š view profile
- [ ] à¸—à¸”à¸ªà¸­à¸š edit profile
- [ ] à¸—à¸”à¸ªà¸­à¸š follow/unfollow
- [ ] à¸—à¸”à¸ªà¸­à¸š followers/following list
- [ ] **à¸—à¸”à¸ªà¸­à¸š ISR functionality (Phase 0):**
  - [ ] Profile page à¹‚à¸«à¸¥à¸”à¹€à¸£à¹‡à¸§ (< 500ms)
  - [ ] generateMetadata à¸—à¸³à¸‡à¸²à¸™ (check meta tags in view-source)
  - [ ] Share link à¸šà¸™ Facebook/Twitter à¹à¸ªà¸”à¸‡ OG image + bio
  - [ ] Client components (tabs, follow button) à¸—à¸³à¸‡à¸²à¸™à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡
- [ ] Run TypeScript compilation

---

### Task 6: Migrate Comments Feature (2 à¸Šà¸¡) ğŸŸ¢ Low Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ comments feature

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 9 files

#### Checklist:

**6.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/comments/{components,hooks,services,types}
  ```

**6.2 à¸¢à¹‰à¸²à¸¢ Components (7 files)**
- [x] `components/comment/CommentCard.tsx` â†’ `src/features/comments/components/`
- [x] `components/comment/CommentForm.tsx` â†’ `src/features/comments/components/`
- [x] `components/comment/CommentList.tsx` â†’ `src/features/comments/components/`
- [x] `components/comment/CommentTree.tsx` â†’ `src/features/comments/components/`
- [x] `components/comment/CommentActions.tsx` â†’ `src/features/comments/components/`
- [x] `components/comment/DeleteCommentDialog.tsx` â†’ `src/features/comments/components/`
- [x] `components/comment/ProfileCommentCard.tsx` â†’ `src/features/comments/components/`

**6.3 à¸¢à¹‰à¸²à¸¢ Hooks (1 file)**
- [x] `lib/hooks/queries/useComments.ts` â†’ `src/features/comments/hooks/`

**6.4 à¸¢à¹‰à¸²à¸¢ Services (1 file)**
- [x] `lib/services/api/comment.service.ts` â†’ `src/features/comments/services/`

**6.5 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/comments/index.ts`

**6.6 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] `app/post/[id]/page.tsx`
- [x] `app/profile/[username]/page.tsx` (ProfileCommentCard)
- [x] All app/ files (global replace)

**6.7 à¸—à¸”à¸ªà¸­à¸š**
- [ ] à¸—à¸”à¸ªà¸­à¸š view comments
- [ ] à¸—à¸”à¸ªà¸­à¸š add comment
- [ ] à¸—à¸”à¸ªà¸­à¸š edit comment
- [ ] à¸—à¸”à¸ªà¸­à¸š delete comment
- [ ] à¸—à¸”à¸ªà¸­à¸š comment tree (nested comments)
- [ ] Run TypeScript compilation

---

### Task 7: Migrate Notifications Feature (1-2 à¸Šà¸¡) ğŸŸ¢ Low Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ notifications feature

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 2 files

#### Checklist:

**7.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/notifications/{components,hooks,services,types}
  ```

**7.2 à¸¢à¹‰à¸²à¸¢ Hooks (1 file)**
- [x] `lib/hooks/queries/useNotifications.ts` â†’ `src/features/notifications/hooks/`

**7.3 à¸¢à¹‰à¸²à¸¢ Services (1 file)**
- [x] `lib/services/api/notification.service.ts` â†’ `src/features/notifications/services/`

**7.4 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/notifications/index.ts`

**7.5 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] `app/notifications/page.tsx`
- [x] `app/notifications/settings/page.tsx`
- [x] `src/shared/components/navigation/AppSidebar.tsx` (notification badge)
- [x] All app/ and shared/ files (global replace)

**7.6 à¸—à¸”à¸ªà¸­à¸š**
- [ ] à¸—à¸”à¸ªà¸­à¸š notification list
- [ ] à¸—à¸”à¸ªà¸­à¸š mark as read
- [ ] à¸—à¸”à¸ªà¸­à¸š notification settings
- [ ] Run TypeScript compilation

---

### Task 8: Migrate Search Feature (1-2 à¸Šà¸¡) ğŸŸ¢ Low Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ search feature

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 2 files

#### Checklist:

**8.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/search/{components,hooks,services,types}
  ```

**8.2 à¸¢à¹‰à¸²à¸¢ Hooks (1 file)**
- [x] `lib/hooks/queries/useSearch.ts` â†’ `src/features/search/hooks/`

**8.3 à¸¢à¹‰à¸²à¸¢ Services (1 file)**
- [x] `lib/services/api/search.service.ts` â†’ `src/features/search/services/`

**8.4 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/search/index.ts`

**8.5 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] `app/search/page.tsx`

**8.6 à¸—à¸”à¸ªà¸­à¸š**
- [ ] à¸—à¸”à¸ªà¸­à¸š search posts
- [ ] à¸—à¸”à¸ªà¸­à¸š search users
- [ ] à¸—à¸”à¸ªà¸­à¸š search tags
- [ ] Run TypeScript compilation

---

### Task 9: Migrate Tags Feature (1 à¸Šà¸¡) ğŸŸ¢ Low Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ tags feature

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 2 files

#### Checklist:

**9.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/tags/{components,hooks,services,types}
  ```

**9.2 à¸¢à¹‰à¸²à¸¢ Hooks (1 file)**
- [x] `lib/hooks/queries/useTags.ts` â†’ `src/features/tags/hooks/`

**9.3 à¸¢à¹‰à¸²à¸¢ Services (1 file)**
- [x] `lib/services/api/tag.service.ts` â†’ `src/features/tags/services/`

**9.4 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/tags/index.ts`

**9.5 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] `app/tag/[tagName]/page.tsx`
- [ ] Components à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰ tags (post creation, search)

**9.6 à¸—à¸”à¸ªà¸­à¸š**
- [ ] à¸—à¸”à¸ªà¸­à¸š tag page
- [ ] à¸—à¸”à¸ªà¸­à¸š tag filtering
- [ ] Run TypeScript compilation

---

### Task 10: Migrate PWA Feature (2-3 à¸Šà¸¡) ğŸŸ¡ Medium Priority

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¢à¹‰à¸²à¸¢ PWA feature (feature à¹ƒà¸«à¸¡à¹ˆà¸—à¸µà¹ˆà¸à¸¥à¸²à¸”à¹„à¸›à¹ƒà¸™à¹à¸œà¸™à¹€à¸”à¸´à¸¡)

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: 8 files

#### Checklist:

**10.1 à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡**
- [ ] à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ
  ```bash
  mkdir -p src/features/pwa/{components,hooks,services,types}
  ```

**10.2 à¸¢à¹‰à¸²à¸¢ Components (7 files)**
- [x] `components/pwa/PWAInstaller.tsx` â†’ `src/features/pwa/components/` (if exists)
- [x] `components/pwa/PWAInstallButton.tsx` â†’ `src/features/pwa/components/`
- [x] `components/pwa/UpdatePrompt.tsx` â†’ `src/features/pwa/components/`
- [x] `components/pwa/UpdatePromptAuto.tsx` â†’ `src/features/pwa/components/`
- [x] `components/pwa/PushNotification.tsx` â†’ `src/features/pwa/components/`
- [x] `components/pwa/PushDebugPanel.tsx` â†’ `src/features/pwa/components/`
- [x] `components/pwa/TestPushButton.tsx` â†’ `src/features/pwa/components/`

**10.3 à¸¢à¹‰à¸²à¸¢ Services (1 file)**
- [x] `lib/services/push.service.ts` â†’ `src/features/pwa/services/`

**10.4 à¸ªà¸£à¹‰à¸²à¸‡ Barrel Export**
- [x] à¸ªà¸£à¹‰à¸²à¸‡ `src/features/pwa/index.ts`

**10.5 à¸­à¸±à¸›à¹€à¸”à¸• Imports**
- [x] `app/layout.tsx` (PWA installer, update prompt)
- [x] `app/notifications/settings/page.tsx` (push notification settings)
- [x] All app/ files (global replace)

**10.6 à¸—à¸”à¸ªà¸­à¸š**
- [ ] à¸—à¸”à¸ªà¸­à¸š PWA installation
- [ ] à¸—à¸”à¸ªà¸­à¸š update prompt
- [ ] à¸—à¸”à¸ªà¸­à¸š push notifications
- [ ] à¸—à¸”à¸ªà¸­à¸š offline mode
- [ ] Run TypeScript compilation

---

### Task 11: Cleanup + Path Aliases (2-3 à¸Šà¸¡) ğŸ”´ CRITICAL

**à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹€à¸à¹ˆà¸² + à¸­à¸±à¸›à¹€à¸”à¸• path aliases + final testing

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡**: Configuration files

#### Checklist:

**11.1 à¸­à¸±à¸›à¹€à¸”à¸• TypeScript Config**
- [ ] à¸­à¸±à¸›à¹€à¸”à¸• `tsconfig.json` paths:
  ```json
  {
    "compilerOptions": {
      "baseUrl": ".",
      "paths": {
        "@/features/*": ["./src/features/*"],
        "@/shared/*": ["./src/shared/*"],
        "@/providers/*": ["./src/providers/*"],
        "@/docs/*": ["./src/docs/*"],

        // Convenience aliases
        "@/types": ["./src/shared/types"],
        "@/types/*": ["./src/shared/types/*"],
        "@/hooks": ["./src/shared/hooks"],
        "@/hooks/*": ["./src/shared/hooks/*"],
        "@/components": ["./src/shared/components"],
        "@/components/*": ["./src/shared/components/*"],
        "@/lib": ["./src/shared/lib"],
        "@/lib/*": ["./src/shared/lib/*"],
        "@/config": ["./src/shared/config"],
        "@/config/*": ["./src/shared/config/*"],
        "@/utils": ["./src/shared/lib/utils"]
      }
    }
  }
  ```

**11.2 Verify All Imports Updated**
- [ ] Search for old imports:
  ```bash
  # Should return 0 results (except in node_modules)
  grep -r "from '@/lib/" app/ src/ --exclude-dir=node_modules
  grep -r "from '@/components/" app/ src/ --exclude-dir=node_modules | grep -v "@/components/ui"
  ```

**11.3 Remove Old Index Files**
- [ ] Verify vÃ  à¸¥à¸š index files à¹€à¸à¹ˆà¸²:
  - [ ] `lib/hooks/mutations/index.ts`
  - [ ] `lib/hooks/queries/index.ts`
  - [ ] `lib/services/index.ts`
  - [ ] `lib/types/index.ts` (à¸­à¸¢à¹ˆà¸²à¸¥à¸šà¸–à¹‰à¸²à¸¢à¸±à¸‡à¹ƒà¸Šà¹‰à¸‡à¸²à¸™)

**11.4 Remove Old Folders**
- [ ] âš ï¸ **CRITICAL**: à¸ªà¸³à¸£à¸­à¸‡à¸à¹ˆà¸­à¸™à¸¥à¸š!
  ```bash
  # Backup first
  tar -czf backup_old_structure.tar.gz components/ lib/ hooks/

  # Then remove
  rm -rf components/
  rm -rf lib/
  rm -rf hooks/
  ```
- [ ] à¹€à¸à¹‡à¸šà¹€à¸‰à¸à¸²à¸° `app/` folder

**11.5 Update Documentation**
- [ ] à¸­à¸±à¸›à¹€à¸”à¸• `README.md` - à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹ƒà¸«à¸¡à¹ˆ
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/docs/ARCHITECTURE.md` - à¸­à¸˜à¸´à¸šà¸²à¸¢ feature structure
- [ ] à¸ªà¸£à¹‰à¸²à¸‡ `src/docs/MIGRATION.md` - à¸šà¸±à¸™à¸—à¸¶à¸à¸à¸²à¸£ migrate
- [ ] à¸­à¸±à¸›à¹€à¸”à¸• `.env.example` (à¸–à¹‰à¸²à¸¡à¸µà¸à¸²à¸£à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸›à¸¥à¸‡)

**11.6 Final Testing**
- [ ] **TypeScript Check**:
  ```bash
  npx tsc --noEmit
  ```
- [ ] **Linter**:
  ```bash
  npm run lint
  ```
- [ ] **Build Test**:
  ```bash
  npm run build
  ```
- [ ] **Development Test**:
  ```bash
  npm run dev
  ```

**11.7 Manual Testing (à¸—à¸”à¸ªà¸­à¸šà¸—à¸¸à¸ features)**
- [ ] âœ… Auth: Login, Register, Logout
- [ ] âœ… Posts: Feed, Create, Edit, Delete, Vote, Save
- [ ] âœ… Chat: Send/Receive messages, WebSocket
- [ ] âœ… Profile: View, Edit, Follow/Unfollow
- [ ] âœ… Comments: CRUD operations
- [ ] âœ… Notifications: List, Mark as read
- [ ] âœ… Search: Posts, Users, Tags
- [ ] âœ… Tags: Tag pages, filtering
- [ ] âœ… PWA: Installation, Updates, Push notifications
- [ ] âœ… Navigation: Sidebar, Mobile nav
- [ ] âœ… Layouts: App layout, Chat layout

**11.8 Performance Check**
- [ ] Check bundle size: `npm run build` à¹à¸¥à¸°à¸”à¸¹ `.next/` folder
- [ ] Test page load speed
- [ ] Test lazy loading (à¸–à¹‰à¸²à¸¡à¸µ)

**11.9 Git Commit**
- [ ] Create commit:
  ```bash
  git add .
  git commit -m "feat: migrate to feature-based architecture (Phase 3)

  - Reorganize codebase into feature modules
  - Move shared code to src/shared/
  - Update path aliases
  - All tests passing

  Features migrated:
  - auth, posts, chat, profile, comments
  - notifications, search, tags, pwa

  BREAKING CHANGE: Project structure completely reorganized"
  ```

---

## â±ï¸ Updated Timeline

| Task | à¸£à¸°à¸¢à¸°à¹€à¸§à¸¥à¸² | Priority | Files | Dependencies | Phase 0 Impact |
|------|----------|----------|-------|--------------|----------------|
| Task 1: Setup + Shared | 4-5 à¸Šà¸¡ | ğŸ”´ Critical | 57 | - | +2 min (query-provider note) |
| Task 2: Auth | 2-3 à¸Šà¸¡ | ğŸŸ¡ Medium | 5 | Task 1 | - |
| Task 3: Posts | 3-4 à¸Šà¸¡ | ğŸ”´ High | 13 | Task 1 | - |
| Task 4: Chat | 2-3 à¸Šà¸¡ | ğŸŸ¡ Medium | 17 | Task 1 | - |
| Task 5: Profile | 2-3 à¸Šà¸¡ | ğŸŸ¡ Medium | **8** â­ | Task 1 | **+20 min** (ProfileContent) |
| Task 6: Comments | 2 à¸Šà¸¡ | ğŸŸ¢ Low | 9 | Task 1, 3 | - |
| Task 7: Notifications | 1-2 à¸Šà¸¡ | ğŸŸ¢ Low | 2 | Task 1 | - |
| Task 8: Search | 1-2 à¸Šà¸¡ | ğŸŸ¢ Low | 2 | Task 1 | - |
| Task 9: Tags | 1 à¸Šà¸¡ | ğŸŸ¢ Low | 2 | Task 1 | - |
| Task 10: PWA | 2-3 à¸Šà¸¡ | ğŸŸ¡ Medium | 8 | Task 1 | - |
| Task 11: Cleanup | 2-3 à¸Šà¸¡ | ğŸ”´ Critical | Config | All tasks | +10 min (ISR testing) |

**à¸£à¸§à¸¡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”**: 22-32 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡ + **~32 à¸™à¸²à¸—à¸µ** (Phase 0 impact) = **~23-33 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡** (3-4 à¸ªà¸±à¸›à¸”à¸²à¸«à¹Œ)

**à¹„à¸Ÿà¸¥à¹Œà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”**: **167 files** (100% coverage) â­ Updated from 166

### à¹à¸™à¸°à¸™à¸³à¸¥à¸³à¸”à¸±à¸šà¸à¸²à¸£à¸—à¸³:

**Week 1 (10-12 à¸Šà¸¡)**: Core Infrastructure
- Day 1-2: Task 1 (Setup + Shared) - 4-5 à¸Šà¸¡
- Day 3: Task 2 (Auth) - 2-3 à¸Šà¸¡
- Day 4-5: Task 3 (Posts) - 3-4 à¸Šà¸¡

**Week 2 (8-10 à¸Šà¸¡)**: Social Features
- Day 1-2: Task 4 (Chat) - 2-3 à¸Šà¸¡
- Day 3: Task 5 (Profile) - 2-3 à¸Šà¸¡
- Day 4: Task 6 (Comments) - 2 à¸Šà¸¡
- Day 5: Task 10 (PWA) - 2-3 à¸Šà¸¡

**Week 3 (4-6 à¸Šà¸¡)**: Finishing
- Day 1: Task 7 (Notifications) - 1-2 à¸Šà¸¡
- Day 2: Task 8 (Search) - 1-2 à¸Šà¸¡
- Day 3: Task 9 (Tags) - 1 à¸Šà¸¡

**Week 4 (2-3 à¸Šà¸¡)**: Final Polish
- Day 1-2: Task 11 (Cleanup + Testing) - 2-3 à¸Šà¸¡

---

## âœ¨ Benefits

### 1. **100% File Coverage**
- à¸—à¸¸à¸à¹„à¸Ÿà¸¥à¹Œà¸¡à¸µà¸—à¸µà¹ˆà¹„à¸› (166/166 files)
- à¹„à¸¡à¹ˆà¸¡à¸µà¹„à¸Ÿà¸¥à¹Œà¸«à¸¥à¸‡à¹€à¸«à¸¥à¸·à¸­
- à¹„à¸¡à¹ˆà¸¡à¸µà¹„à¸Ÿà¸¥à¹Œà¸‹à¹‰à¸³à¸‹à¹‰à¸­à¸™

### 2. **Clear Feature Boundaries**
- à¹à¸•à¹ˆà¸¥à¸° feature à¸¡à¸µ components, hooks, services à¹à¸¢à¸à¸à¸±à¸™
- Shared code à¸­à¸¢à¸¹à¹ˆà¸—à¸µà¹ˆà¹€à¸”à¸µà¸¢à¸§
- à¹„à¸¡à¹ˆà¸¡à¸µ cross-feature dependencies

### 3. **Better Scalability**
- à¹€à¸à¸´à¹ˆà¸¡ feature à¹ƒà¸«à¸¡à¹ˆà¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢ (copy structure)
- à¹à¸•à¹ˆà¸¥à¸° feature test à¹à¸¢à¸à¹„à¸”à¹‰
- Deploy à¹à¸¢à¸ feature à¹„à¸”à¹‰ (micro-frontends)

### 4. **Improved Developer Experience**
- à¸«à¸²à¹‚à¸„à¹‰à¸”à¹„à¸”à¹‰à¹€à¸£à¹‡à¸§ (à¸£à¸¹à¹‰à¸§à¹ˆà¸²à¸­à¸¢à¸¹à¹ˆ feature à¹„à¸«à¸™)
- Onboarding à¸‡à¹ˆà¸²à¸¢ (à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸Šà¸±à¸”à¹€à¸ˆà¸™)
- à¸—à¸³à¸‡à¸²à¸™ parallel à¹„à¸”à¹‰ (à¹à¸•à¹ˆà¸¥à¸°à¸„à¸™à¸”à¸¹ feature à¸•à¹ˆà¸²à¸‡à¸à¸±à¸™)

### 5. **Better Testing**
- Unit test à¹à¸¢à¸ feature
- Integration test à¸‡à¹ˆà¸²à¸¢à¸‚à¸¶à¹‰à¸™
- Mock dependencies à¸‡à¹ˆà¸²à¸¢

---

## âš ï¸ Risks & Mitigation

### Risk 1: Breaking Changes à¸ˆà¸²à¸à¸à¸²à¸£à¸¢à¹‰à¸²à¸¢
**Probability**: High
**Impact**: High
**Mitigation**:
- à¸¢à¹‰à¸²à¸¢à¸—à¸µà¸¥à¸° task (incremental)
- Run TypeScript check à¸«à¸¥à¸±à¸‡à¹à¸•à¹ˆà¸¥à¸° task
- à¸—à¸”à¸ªà¸­à¸šà¸—à¸±à¸™à¸—à¸µ
- à¸¡à¸µ backup (git)

### Risk 2: Missing Files
**Probability**: Low (à¸•à¸­à¸™à¸™à¸µà¹‰ 0% - à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ 100%)
**Impact**: High
**Mitigation**:
- Agent à¹„à¸”à¹‰à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸„à¸£à¸šà¸—à¸¸à¸à¹„à¸Ÿà¸¥à¹Œà¹à¸¥à¹‰à¸§
- Checklist à¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡ 166 files
- Final grep check à¹ƒà¸™ Task 11

### Risk 3: Circular Dependencies
**Probability**: Medium
**Impact**: Medium
**Mitigation**:
- à¹ƒà¸Šà¹‰ barrel exports
- Shared code à¹ƒà¸™ `src/shared/`
- vote.service, media.service à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ shared
- Run TypeScript à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š

### Risk 4: Path Alias Confusion
**Probability**: Medium
**Impact**: Low
**Mitigation**:
- Task 11 à¸­à¸±à¸›à¹€à¸”à¸• tsconfig.json à¸Šà¸±à¸”à¹€à¸ˆà¸™
- Convenience aliases (`@/types`, `@/hooks`)
- Documentation à¸„à¸£à¸šà¸–à¹‰à¸§à¸™

### Risk 5: Performance Degradation
**Probability**: Low
**Impact**: Medium
**Mitigation**:
- Feature-based = better code splitting
- Task 11 à¸¡à¸µ performance check
- Lazy loading à¸–à¹‰à¸²à¸ˆà¸³à¹€à¸›à¹‡à¸™

---

## ğŸ“š Best Practices

### 1. Import Rules

```typescript
// âœ… Good: à¹ƒà¸Šà¹‰ barrel exports
import { LoginForm, useAuth } from '@/features/auth';
import { PostCard, usePosts } from '@/features/posts';

// âœ… Good: à¹ƒà¸Šà¹‰ convenience aliases
import { Button } from '@/components/ui/button';
import { cn } from '@/utils';
import type { User } from '@/types';

// âŒ Bad: Import à¸‚à¹‰à¸²à¸¡à¹„à¸Ÿà¸¥à¹Œ internal
import { LoginForm } from '@/features/auth/components/LoginForm';

// âŒ Bad: Import à¸ˆà¸²à¸ feature à¸­à¸·à¹ˆà¸™
import { useAuth } from '@/features/auth/hooks/useAuth';
// à¹ƒà¸Šà¹‰ from '@/features/auth' à¹à¸—à¸™
```

### 2. Feature Dependencies

```typescript
// âœ… Good: à¹ƒà¸Šà¹‰ shared types
import type { User, Post } from '@/shared/types';

// âœ… Good: à¹ƒà¸Šà¹‰ shared services
import { voteService } from '@/shared/lib/api/vote.service';

// âŒ Bad: Import type à¸ˆà¸²à¸ feature à¸­à¸·à¹ˆà¸™
import type { User } from '@/features/auth/types';
```

### 3. Shared vs Feature-Specific

```typescript
// âœ… Component à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™ â†’ shared
// src/shared/components/common/EmptyState.tsx

// âœ… Component à¹€à¸‰à¸à¸²à¸° feature â†’ feature folder
// src/features/posts/components/PostCard.tsx

// âš ï¸ Component à¹ƒà¸Šà¹‰à¹‚à¸”à¸¢à¸«à¸¥à¸²à¸¢ features â†’ à¸à¸´à¸ˆà¸²à¸£à¸“à¸²
// - à¸–à¹‰à¸² 2 features â†’ duplicate (à¸–à¹‰à¸²à¹€à¸¥à¹‡à¸)
// - à¸–à¹‰à¸² 3+ features â†’ shared
```

### 4. Barrel Exports Pattern

```typescript
// src/features/posts/index.ts

// Components (à¹€à¸‰à¸à¸²à¸°à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£ expose)
export { PostCard } from './components/PostCard';
export { PostFeed } from './components/PostFeed';
export { CreatePostForm } from './components/CreatePostForm';

// Hooks (à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”)
export {
  usePosts,
  usePost,
  useCreatePost,
  useUpdatePost,
  useDeletePost,
} from './hooks/usePosts';

export {
  useVote,
  useUpvote,
  useDownvote,
} from './hooks/useVotes';

// Types (à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”)
export type * from './types';

// âŒ DON'T export services (internal use only)
// Services à¸„à¸§à¸£ call à¸œà¹ˆà¸²à¸™ hooks
```

---

## ğŸ¯ Success Criteria

Phase 3 à¸–à¸·à¸­à¸§à¹ˆà¸²à¸ªà¸³à¹€à¸£à¹‡à¸ˆà¹€à¸¡à¸·à¹ˆà¸­:

### Technical Criteria
- [ ] âœ… à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸›à¹‡à¸™ feature-based (8 features + shared)
- [ ] âœ… à¹„à¸Ÿà¸¥à¹Œà¸„à¸£à¸šà¸–à¹‰à¸§à¸™ 166/166 files (100%)
- [ ] âœ… Shared code à¹à¸¢à¸à¸­à¸­à¸à¸Šà¸±à¸”à¹€à¸ˆà¸™
- [ ] âœ… à¸—à¸¸à¸ feature à¸¡à¸µ barrel exports
- [ ] âœ… TypeScript compilation à¸œà¹ˆà¸²à¸™ (0 errors)
- [ ] âœ… Linter à¸œà¹ˆà¸²à¸™ (0 errors, < 5 warnings)
- [ ] âœ… Build à¸œà¹ˆà¸²à¸™ (`npm run build`)
- [ ] âœ… à¹„à¸¡à¹ˆà¸¡à¸µ circular dependencies

### Functional Criteria
- [ ] âœ… **Auth**: Login, Register, Logout à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **Posts**: CRUD, Vote, Save à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **Chat**: Send/Receive, WebSocket à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **Profile**: View, Edit, Follow à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **Comments**: CRUD à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **Notifications**: List, Read à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **Search**: Search à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **Tags**: Tag pages à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰
- [ ] âœ… **PWA**: Install, Update, Push à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰

### Documentation Criteria
- [ ] âœ… README.md à¸­à¸±à¸›à¹€à¸”à¸•à¹à¸¥à¹‰à¸§
- [ ] âœ… ARCHITECTURE.md à¸ªà¸£à¹‰à¸²à¸‡à¹à¸¥à¹‰à¸§
- [ ] âœ… MIGRATION.md à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¹‰à¸§
- [ ] âœ… Path aliases documented

---

## ğŸ“– Post-Phase 3 Roadmap

à¸«à¸¥à¸±à¸‡à¸ˆà¸š Phase 3, à¸‚à¸±à¹‰à¸™à¸•à¸­à¸™à¸•à¹ˆà¸­à¹„à¸›:

### Phase 4: Performance Optimization (Optional)
- Code splitting per feature
- Lazy loading features
- Bundle size optimization
- Image optimization

### Phase 5: Testing Infrastructure (Recommended)
- Unit tests per feature
- Integration tests
- E2E tests with Playwright
- Test coverage > 80%

### Phase 6: Documentation (Recommended)
- API documentation (TypeDoc)
- Component Storybook
- Architecture Decision Records (ADR)
- Contribution guide

### Phase 7: Monorepo (Advanced - Optional)
- Split features into packages
- Shared workspace
- Independent versioning
- Turborepo/Nx setup

---

## ğŸ“ Important Notes

### During Migration:
1. **Work on separate branch**: `feature/phase3-architecture-migration`
2. **Commit frequently**: à¸—à¸µà¸¥à¸° task à¸«à¸£à¸·à¸­à¸—à¸µà¸¥à¸° sub-task
3. **Test after each task**: à¸­à¸¢à¹ˆà¸²à¸£à¸­à¸–à¸¶à¸‡ task à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢
4. **Backup before cleanup**: à¸à¹ˆà¸­à¸™à¸¥à¸šà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œà¹€à¸à¹ˆà¸²
5. **Document issues**: à¸šà¸±à¸™à¸—à¸¶à¸à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¹€à¸ˆà¸­à¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸—à¸²à¸‡

### After Migration:
1. **Code review**: à¸–à¹‰à¸²à¸—à¸³à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸—à¸µà¸¡
2. **Merge strategy**: Squash commits à¸«à¸£à¸·à¸­ merge as-is?
3. **Deploy**: Test à¸šà¸™ staging à¸à¹ˆà¸­à¸™ production
4. **Monitor**: à¸”à¸¹ errors, performance à¸«à¸¥à¸±à¸‡ deploy
5. **Celebrate**: ğŸ‰ à¸—à¸³à¸‡à¸²à¸™à¸«à¸™à¸±à¸à¸¡à¸²à¸!

---

## ğŸ” Verification Checklist

à¸à¹ˆà¸­à¸™à¸ˆà¸š Phase 3 à¹ƒà¸«à¹‰à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š:

### File Structure
- [ ] à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ `src/` à¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¸•à¸²à¸¡ design
- [ ] à¹„à¸¡à¹ˆà¸¡à¸µà¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ `components/`, `lib/`, `hooks/` à¹€à¸«à¸¥à¸·à¸­à¸­à¸¢à¸¹à¹ˆ
- [ ] à¸—à¸¸à¸ feature à¸¡à¸µà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸ªà¸¡à¹ˆà¸³à¹€à¸ªà¸¡à¸­
- [ ] Shared code à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ `src/shared/` à¹€à¸—à¹ˆà¸²à¸™à¸±à¹‰à¸™

### Imports
- [ ] à¹„à¸¡à¹ˆà¸¡à¸µ import `from '@/lib/'` (à¸¢à¸à¹€à¸§à¹‰à¸™ shared/lib)
- [ ] à¹„à¸¡à¹ˆà¸¡à¸µ import `from '@/components/'` (à¸¢à¸à¹€à¸§à¹‰à¸™ shared/components)
- [ ] à¸—à¸¸à¸ feature à¹ƒà¸Šà¹‰ barrel exports
- [ ] à¹„à¸¡à¹ˆà¸¡à¸µ relative imports à¸‚à¹‰à¸²à¸¡ features

### Testing
- [ ] All features tested manually
- [ ] TypeScript: 0 errors
- [ ] Linter: 0 errors (< 5 warnings ok)
- [ ] Build: successful
- [ ] Dev server: runs without errors

### Documentation
- [ ] README updated
- [ ] Architecture docs created
- [ ] Migration log saved
- [ ] Team notified (if applicable)

---

## ğŸ“Š File Distribution Summary

| Category | Files | Location |
|----------|-------|----------|
| **Shared Components** | 46 | `src/shared/components/` |
| - UI Components | 29 | `src/shared/components/ui/` |
| - Common | 8 | `src/shared/components/common/` |
| - Layouts | 3 | `src/shared/components/layouts/` |
| - Navigation | 5 | `src/shared/components/navigation/` |
| - Analytics | 1 | `src/shared/components/analytics/` |
| **Shared Hooks** | 3 | `src/shared/hooks/` |
| **Shared Types** | 6 | `src/shared/types/` |
| **Shared Lib** | 6 | `src/shared/lib/` |
| **Shared Config** | 7 | `src/shared/config/` |
| **Providers** | 3 | `src/providers/` |
| **Auth Feature** | 5 | `src/features/auth/` |
| **Posts Feature** | 13 | `src/features/posts/` |
| **Chat Feature** | 17 | `src/features/chat/` |
| **Profile Feature** | **8** â­ | `src/features/profile/` | â† +1 (ProfileContent.tsx) |
| **Comments Feature** | 9 | `src/features/comments/` |
| **Notifications Feature** | 2 | `src/features/notifications/` |
| **Search Feature** | 2 | `src/features/search/` |
| **Tags Feature** | 2 | `src/features/tags/` |
| **PWA Feature** | 8 | `src/features/pwa/` |
| **Documentation** | 3 | `src/docs/legacy/` |
| **App Routes** | 27 | `app/` (unchanged) |
| **TOTAL** | **167 files** â­ | **100% Coverage** | â† Updated from 166 |

---

## ğŸ“ Learning Resources

à¸ªà¸³à¸«à¸£à¸±à¸šà¸—à¸µà¸¡à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸™à¸£à¸¹à¹‰ Feature-based Architecture:

1. **Articles**:
   - [Feature-Sliced Design](https://feature-sliced.design/)
   - [Modular Architecture](https://martinfowler.com/articles/modular-application-patterns.html)

2. **Videos**:
   - "Scaling React Applications" - Ryan Florence
   - "Feature-Based Code Organization" - Kent C. Dodds

3. **Examples**:
   - [Bulletproof React](https://github.com/alan2207/bulletproof-react)
   - [Enterprise React](https://github.com/epicmaxco/epic-spinners)

---

## âœ… Final Confidence Assessment

**Coverage**: 166/166 files (100%)
**Plan Completeness**: 100%
**Error-Free Confidence**: 98%

**Remaining 2% Risk From**:
- Runtime dependencies à¸—à¸µà¹ˆà¸­à¸²à¸ˆà¹„à¸¡à¹ˆà¸›à¸£à¸²à¸à¸à¹ƒà¸™à¸à¸²à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ static
- Third-party library integrations
- Dynamic imports à¸—à¸µà¹ˆà¸‹à¹ˆà¸­à¸™à¸­à¸¢à¸¹à¹ˆ

**To Reach 100%**:
- Run final grep search in Task 11
- Manual testing à¸—à¸¸à¸ features
- Monitor production logs à¸«à¸¥à¸±à¸‡ deploy

---

**Good luck with Phase 3! ğŸš€**

*Remember: This is a big migration, take your time, test frequently, and don't hesitate to pause between tasks.*
